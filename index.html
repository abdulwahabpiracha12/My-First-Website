<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Orimono â€“ Origami Store</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<style>
*{box-sizing:border-box;font-family:Poppins}
body{margin:0;background:#f7f7fb}

/* HEADER */
header{
background:linear-gradient(135deg,#6a11cb,#2575fc);
color:white;padding:16px 25px;
display:flex;justify-content:space-between;align-items:center;
position:sticky;top:0;z-index:1000;
}
.cart-icon{position:relative;font-size:22px;cursor:pointer}
.cart-count{
position:absolute;top:-8px;right:-8px;
background:red;color:white;border-radius:50%;
padding:2px 6px;font-size:12px;
}

/* SECTIONS */
section{display:none;animation:fade .5s ease}
section.active{display:block}
@keyframes fade{from{opacity:0;transform:translateY(15px)}to{opacity:1}}

/* PRODUCTS */
.container{padding:25px}
.products{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(170px,1fr));
gap:18px;
}
.product{
background:white;border-radius:18px;
box-shadow:0 12px 25px rgba(0,0,0,.1);
overflow:hidden;cursor:pointer;
transition:.4s;
}
.product:hover{transform:translateY(-8px)}
.product img{width:100%;height:180px;object-fit:cover}
.product-info{padding:12px}

/* BUTTONS */
.btn{
background:#2575fc;color:white;
border:none;border-radius:30px;
padding:12px 22px;font-size:15px;
cursor:pointer;transition:.3s
}
.btn:hover{background:#6a11cb}

/* CART */
.cart-panel{
position:fixed;right:-100%;top:0;height:100%;
width:320px;background:white;
box-shadow:-8px 0 25px rgba(0,0,0,.2);
padding:20px;transition:.5s;z-index:2000
}
.cart-panel.active{right:0}

/* FORMS */
input,select{
width:100%;padding:12px;margin-bottom:14px;
border-radius:10px;border:1px solid #ccc;
}

/* MOBILE */
@media(max-width:600px){
header h1{font-size:20px}
.product img{height:150px}
}
</style>
</head>

<body>

<header>
<h1>Orimono</h1>
<div class="cart-icon" onclick="toggleCart()">
<i class="fas fa-shopping-cart"></i>
<span class="cart-count" id="cartCount">0</span>
</div>
</header>

<!-- HOME -->
<section id="home" class="active">
<div class="container">
<h2>Origami Collection</h2>
<div class="products" id="productList"></div>
</div>
</section>

<!-- PRODUCT PAGE -->
<section id="productPage">
<div class="container" id="productContent"></div>
</section>

<!-- CHECKOUT PAGE -->
<section id="checkoutPage">
<div class="container">
<h2>Checkout</h2>
<form id="orderForm" onsubmit="placeOrder(event)">
<input name="customer_name" required placeholder="Full Name">
<input name="phone" required placeholder="Phone Number">
<input name="address" required placeholder="Complete Address">

<select name="payment_method" id="payment" onchange="toggleScreenshot()" required>
<option value="">Select Payment</option>
<option>Cash on Delivery</option>
<option>EasyPaisa</option>
</select>

<input type="file" id="screenshot">

<input type="hidden" name="order_items" id="orderItemsField">
<input type="hidden" name="total_price" id="totalPriceField">

<button class="btn" style="width:100%">Place Order</button>
</form>
</div>
</section>

<!-- SUCCESS -->
<section id="success">
<div class="container" style="text-align:center">
<h1>ðŸŽ‰ Order Placed Successfully</h1>
<p>We will contact you soon.</p>
</div>
</section>

<!-- CART -->
<div class="cart-panel" id="cartPanel">
<h3>Your Cart</h3>
<div id="cartItems"></div>
<p id="cartTotal"></p>
<button class="btn" onclick="goCheckout()">Checkout</button>
</div>

<script>
emailjs.init("NaiXSxupv3BJYt6OY");

/* PRODUCTS */
const products=[{name:"Basket (Large)",price:750,images:["Basket(large).jpeg"]},
{name:"Basket (Medium)",price:600,images:["basket(medium).jpeg"]},
{name:"Box",price:650,images:["Box.jpeg"]},
{name:"Flamingo",price:800,images:["Flamingo.jpeg"]},
{name:"Snake",price:1000,images:["Snake.jpeg"]}];

const cart=[];
const productList=document.getElementById("productList");

/* LOAD */
products.forEach(p=>{
const d=document.createElement("div");
d.className="product";
d.innerHTML=`<img src="${p.images[0]}">
<div class="product-info"><h4>${p.name}</h4><p>Rs.${p.price}</p></div>`;
d.onclick=()=>openProduct(p);
productList.appendChild(d);
});

/* PAGE SWITCH */
function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

/* PRODUCT */
function openProduct(p){
show("productPage");
productContent.innerHTML=`
<img src="${p.images[0]}" style="width:100%;border-radius:15px">
<h2>${p.name}</h2>
<p>Price: Rs.${p.price}</p>
<button class="btn" onclick='addToCart(${JSON.stringify(p)})'>Add to Cart</button>
<button class="btn" style="background:#555" onclick="show('home')">Back</button>
`;
}

/* CART */
function addToCart(p){
cart.push(p);
cartCount.innerText=cart.length;
alert("Added to cart");
}
function toggleCart(){
cartPanel.classList.toggle("active");
renderCart();
}
function renderCart(){
cartItems.innerHTML="";
let total=0;
cart.forEach(i=>{total+=i.price;cartItems.innerHTML+=`<div>${i.name} - Rs.${i.price}</div>`});
total+=100;
cartTotal.innerText="Total: Rs."+total;
}

/* CHECKOUT */
function goCheckout(){
cartPanel.classList.remove("active");
show("checkoutPage");
}
function toggleScreenshot(){
screenshot.style.display=payment.value==="EasyPaisa"?"block":"none";
}

/* ORDER */
function placeOrder(e){
e.preventDefault();
let items="",total=0;
cart.forEach(i=>{items+=i.name+" Rs."+i.price+"\n";total+=i.price});
total+=100;
orderItemsField.value=items;
totalPriceField.value="Rs."+total;

emailjs.sendForm("service_x7mqjnb","template_v3rilkm",orderForm)
.then(()=>{show("success");cart.length=0;cartCount.innerText=0;});
}
</script>

</body>
</html>