<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Orimono ‚Äì Premium Origami Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<style>
:root{
--bg:#121212;
--card:#1e1e2f;
--accent:#4a90e2;
--accent-soft:#50a0ff;
--text:#e0e0e0;
--muted:#2c2c3e;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins}
body{background:var(--bg);color:var(--text);overflow-x:hidden}

/* HEADER */
header{
background:linear-gradient(135deg,var(--accent),var(--accent-soft));
border-bottom:1px solid var(--muted);
padding:22px;text-align:center;font-size:28px;font-weight:700;color:#fff;
transition:.4s;
}

/* TOP BAR */
.top-bar{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;padding:15px;background:#1a1a2a;}
.top-bar input,.top-bar select{padding:10px;border-radius:6px;border:1px solid #333;width:220px;background:#121212;color:#e0e0e0;}

/* PRODUCTS */
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;padding:30px;}
.product{background:var(--card);border-radius:16px;overflow:hidden;cursor:pointer;opacity:0;transform:scale(.9);transition:.3s;box-shadow:0 6px 15px rgba(0,0,0,.2);}
.product:hover{transform:translateY(-6px) scale(1.05);box-shadow:0 12px 25px rgba(0,0,0,.3);}
.product img{width:100%;height:200px;object-fit:cover;transition:.3s;}
.product h3{padding:10px;font-size:17px;color:var(--text);}
.product p{padding:0 10px 12px;color:var(--accent)}

/* CART */
.cart-icon{position:fixed;top:20px;right:20px;background:var(--accent);color:#fff;padding:15px;border-radius:50%;cursor:pointer;font-size:20px;z-index:999;transition:.3s;}
.cart{position:fixed;top:0;right:-400px;width:360px;height:100%;background:var(--card);padding:20px;overflow-y:auto;z-index:998;box-shadow:-6px 0 20px rgba(0,0,0,.3);}
.cart.open{right:0;transition:right .5s cubic-bezier(0.25,1,0.5,1);}
.cart-item{border-bottom:1px solid var(--muted);padding:8px 0;color:var(--text);}
.total{margin-top:15px;color:var(--accent-soft);font-weight:600;}

/* BUTTONS */
button,input,select{width:100%;padding:10px;margin-top:8px;border-radius:8px;border:1px solid #333;background:#121212;color:#e0e0e0;}
button{background:var(--accent);color:#fff;font-weight:600;cursor:pointer;transition:.3s;}
button:hover{background:var(--accent-soft);}

/* MODALS */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;justify-content:center;align-items:center;z-index:1000;}
.modal-content{background:var(--card);padding:20px;border-radius:16px;width:90%;max-width:500px;transform:scale(.7);opacity:0;transition:.4s;box-shadow:0 10px 30px rgba(0,0,0,.3);}
.modal-content img{width:100%;border-radius:10px;margin-bottom:8px;}
.gallery{position:relative;display:flex;align-items:center;justify-content:center;}
.arrow{position:absolute;top:50%;transform:translateY(-50%);font-size:24px;color:var(--accent-soft);cursor:pointer;user-select:none;padding:0 10px;}
.arrow.left{left:0} .arrow.right{right:0;}

/* DOTS */
#dots span{height:10px;width:10px;background:#555;border-radius:50%;display:inline-block;margin:0 5px;cursor:pointer;transition:.3s;}
#dots span.active{background:var(--accent);}

/* THANK YOU */
.thankyou{display:none;text-align:center;padding:60px;font-size:26px;color:var(--accent-soft);}

/* ADMIN PANEL MODAL */
#adminPanel{position:fixed;inset:0;background:rgba(0,0,0,0.8);display:none;justify-content:center;align-items:center;z-index:1001;}
#adminPanel .modal-content{width:90%;max-width:600px;height:70%;overflow-y:auto;}
.order-box{border:1px solid var(--muted);border-radius:10px;padding:10px;margin-bottom:10px;font-size:14px;color:var(--text);}
</style>
</head>

<body>

<header id="hero">ORIMONO ‚Äì HANDMADE ORIGAMI</header>

<div id="google_translate_element" style="text-align:center;margin:10px"></div>

<div class="top-bar">
<input type="text" id="search" placeholder="Search product..." onkeyup="renderProducts()">
<select id="filter" onchange="renderProducts()">
<option value="all">All Prices</option>
<option value="low">Below Rs 500</option>
<option value="mid">Rs 500 ‚Äì 1000</option>
<option value="high">Above Rs 1000</option>
</select>
</div>

<div class="cart-icon" onclick="toggleCart()">üõí</div>
<div class="products" id="products"></div>

<!-- CART -->
<div class="cart" id="cart">
<h3>Your Cart</h3>
<div id="cartItems"></div>
<div class="total" id="total"></div>
<button onclick="openCheckout()">Confirm Order</button>
</div>

<!-- PRODUCT MODAL -->
<div class="modal" id="productModal">
<div class="modal-content">
<h2 id="pName"></h2>
<div class="gallery">
<span class="arrow left" onclick="prevImage()">‚ùÆ</span>
<img id="pImage">
<span class="arrow right" onclick="nextImage()">‚ùØ</span>
</div>
<div id="dots" style="text-align:center;margin-top:8px;"></div>
<p id="pPrice"></p>
<button onclick="addToCartFromModal()">Add to Cart</button>
<button onclick="closeProductModal()">Back to Store</button>
</div>
</div>

<!-- CHECKOUT MODAL -->
<div class="modal" id="checkout">
<div class="modal-content">
<form id="orderForm">
<input name="name" placeholder="Full Name" required>
<input name="phone" placeholder="Phone Number" required>
<input name="address" placeholder="Delivery Address" required>
<select name="payment" id="payment" onchange="toggleShot()" required>
<option value="">Payment Method</option>
<option value="COD">Cash on Delivery</option>
<option value="Easypaisa">Easypaisa</option>
</select>
<input type="file" id="shot" style="display:none">
<button type="submit">Place Order</button>
</form>
</div>
</div>

<!-- ADMIN PANEL MODAL -->
<div id="adminPanel" class="modal">
<div class="modal-content">
<h2 style="text-align:center;margin-bottom:10px;">Admin ‚Äì Order History</h2>
<div id="orders"></div>
<button onclick="closeAdmin()" style="margin-top:10px;">Close</button>
</div>
</div>

<div class="thankyou" id="thankyou">
üéâ Thank you for shopping with <b>Orimono</b><br>We will contact you soon üíõ
</div>

<script>
emailjs.init("NaiXSxupv3BJYt6OY");

const ADMIN_PASSWORD="orimono123"; // Change to your secure password

let productsData=[
{ name:"Basket (large)", price:750, images:["Basket(large).jpeg","22","11"] },
{ name:"Basket (medium)", price:600, images:["basket(medium.jpeg","11","22"] },
{ name:"Box", price:650, images:["Box.jpeg","Box.jpeg","Box.jpeg"] },
{ name:"Cart", price:1650, images:["Cart.jpeg","22","11"] },
{ name:"Flamingo", price:800, images:["Flamingo.jpeg","11","22"] },
{ name:"Glassess", price:1500, images:["Glassess.jpeg","11","22"] },
{ name:"Honey Bee Tree", price:650, images:["Honey Bee Tree.jpeg","22","11"] },
{ name:"Pink Flower", price:550, images:["Pink Flower.jpeg","11","22"] },
{ name:"Rose Flower", price:600, images:["Rose Flower.jpeg","11","22"] },
{ name:"Small Swan (Simple)", price:250, images:["Small Swan(Simple).jpeg","22","11"] },
{ name:"Snake", price:1000, images:["Snake.jpeg","11","22"] },
{ name:"Swan Basket", price:400, images:["Swan Busket.jpeg","11","22"] },
{ name:"Swan Pencil Holder", price:500, images:["Swan Pencil Holder.jpeg","22","11"] },
{ name:"Swan (large)", price:1260, images:["Swan(large).jpeg","11","22"] },
{ name:"Swan (medium)", price:800, images:["Swan(medium).jpeg","11","22"] },
{ name:"Tree", price:500, images:["Tree.jpeg","11","22"] }
];

let cart=[],current,curIndex=0,startX=null;

// RENDER PRODUCTS
function renderProducts(){
const container=document.getElementById("products");
const searchVal=document.getElementById("search").value.toLowerCase();
const filterVal=document.getElementById("filter").value;
container.innerHTML="";
productsData.forEach((p,i)=>{
if(!p.name.toLowerCase().includes(searchVal)) return;
if(filterVal==="low" && p.price>=500) return;
if(filterVal==="mid" && (p.price<500 || p.price>1000)) return;
if(filterVal==="high" && p.price<=1000) return;
container.innerHTML+=`<div class="product" onclick="openProductModal(${i})"><img src="${p.images[0]}"><h3>${p.name}</h3><p>Rs ${p.price} PKR</p></div>`;
});
gsap.to(".product",{opacity:1,scale:1,stagger:.08});
}

// PRODUCT MODAL
const pImg=document.getElementById("pImage");
const dotsDiv=document.getElementById("dots");
function createDots(){dotsDiv.innerHTML="";for(let i=0;i<current.images.length;i++){const dot=document.createElement("span");if(i===curIndex) dot.classList.add("active");dot.onclick=(()=>{curIndex=i; updateImage();});dotsDiv.appendChild(dot);}}
function updateDots(){const dots=dotsDiv.children;for(let i=0;i<dots.length;i++){if(i===curIndex){gsap.fromTo(dots[i],{scale:0.8},{scale:1.2,duration:0.3,ease:"elastic.out(1,0.5)"});dots[i].classList.add("active");}else{dots[i].classList.remove("active");gsap.to(dots[i],{scale:1,duration:0.2});}}}
function updateImage(){gsap.fromTo(pImg,{opacity:0,scale:0.9},{opacity:1,scale:1,duration:0.5,ease:"power2.out"});pImg.src=current.images[curIndex];updateDots();}
function prevImage(){curIndex=(curIndex-1+current.images.length)%current.images.length; updateImage();}
function nextImage(){curIndex=(curIndex+1)%current.images.length; updateImage();}
function openProductModal(i){current=productsData[i]; curIndex=0;document.getElementById("pName").innerText=current.name;document.getElementById("pPrice").innerText="Rs "+current.price+" PKR";pImg.src=current.images[curIndex];createDots();productModal.style.display="flex";gsap.fromTo("#productModal .modal-content",{y:200,opacity:0,scale:0.8},{y:0,opacity:1,scale:1,duration:0.6,ease:"power4.out"});startX=null;}
function closeProductModal(){gsap.to("#productModal .modal-content",{y:200,opacity:0,scale:0.8,duration:.4,onComplete:()=>productModal.style.display="none"});}
function addToCartFromModal(){cart.push(current);updateCart();closeProductModal();}

/* MOBILE SWIPE */
pImg.addEventListener("touchstart", e=>{ startX=e.touches[0].clientX; });
pImg.addEventListener("touchend", e=>{ if(startX===null) return; let endX=e.changedTouches[0].clientX; let diff=endX-startX; if(diff>50) prevImage(); else if(diff<-50) nextImage(); startX=null; });

/* CART */
const cartDiv=document.getElementById("cart");
function toggleCart(){cartDiv.classList.toggle("open");if(cartDiv.classList.contains("open")){gsap.fromTo("#cart div.cart-item",{opacity:0,x:50},{opacity:1,x:0,duration:0.6,stagger:0.08,ease:"power3.out"});gsap.fromTo("#cart .total",{opacity:0,y:20},{opacity:1,y:0,duration:0.5,ease:"power3.out",delay:0.2});gsap.fromTo("#cart button",{opacity:0,scale:0.8},{opacity:1,scale:1,duration:0.5,ease:"elastic.out(1,0.5)",delay:0.3});}}
function updateCart(){let t=100,html="";cart.forEach(c=>{html+=`<div class="cart-item">${c.name} ‚Äì Rs ${c.price}</div>`;t+=c.price});cartItems.innerHTML=html;total.innerText="Total + Delivery: Rs "+t+" PKR";}

/* CHECKOUT */
const checkout=document.getElementById("checkout");
const checkoutContent = checkout.querySelector(".modal-content");
const shot=document.getElementById("shot");
const payment=document.getElementById("payment");
function openCheckout(){checkout.style.display = "flex";gsap.fromTo(checkoutContent,{y:50, opacity:0, scale:0.9},{y:0, opacity:1, scale:1, duration:0.6, ease:"power4.out"});gsap.fromTo(checkoutContent.querySelectorAll("input, select, button"),{opacity:0, y:20},{opacity:1, y:0, stagger:0.1, duration:0.5, ease:"power3.out"});}
function toggleShot(){shot.style.display=payment.value==="Easypaisa"?"block":"none";shot.required=payment.value==="Easypaisa";}

/* PLACE ORDER */
const orderForm=document.getElementById("orderForm");
orderForm.addEventListener("submit",async e=>{
if(payment.value==="Easypaisa"&&!shot.files.length){alert("Please upload Easypaisa screenshot!");e.preventDefault();return;}
e.preventDefault();
const order={name:orderForm.name.value,phone:orderForm.phone.value,address:orderForm.address.value,payment:payment.value,items:cart,total:total.innerText,date:new Date().toLocaleString()};
let history=JSON.parse(localStorage.getItem("orders"))||[]; history.push(order); localStorage.setItem("orders",JSON.stringify(history));
try{await emailjs.sendForm("service_x7mqjnb","template_v3rilkm",orderForm);}catch(err){console.log("EmailJS error:",err);}
document.body.innerHTML=thankyou.outerHTML; document.getElementById("thankyou").style.display="block";
});

/* ADMIN PANEL */
function openAdmin(){const pass=prompt("Enter admin password:");if(pass===ADMIN_PASSWORD){const orders=JSON.parse(localStorage.getItem("orders"))||[];const ordersDiv=document.getElementById("orders");ordersDiv.innerHTML="";if(orders.length===0){ordersDiv.innerHTML="<p>No orders yet.</p>";}orders.forEach(o=>{ordersDiv.innerHTML+=`<div class="order-box"><b>${o.name}</b><br>${o.phone}<br>${o.address}<br>${o.payment}<br>${o.total}<br>${o.date}</div>`;});document.getElementById("adminPanel").style.display="flex";}}
function closeAdmin(){document.getElementById("adminPanel").style.display="none";}

/* HERO ANIMATION */
gsap.from("#hero",{y:-100,opacity:0,duration:1,ease:"power3.out"});

/* CART ICON PULSE */
gsap.to(".cart-icon",{scale:1.1,duration:0.8,repeat:-1,yoyo:true,ease:"sine.inOut"});

/* GOOGLE TRANSLATE */
function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:'en'},'google_translate_element');}
</script>
<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

</body>
</html>