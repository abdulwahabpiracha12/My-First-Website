<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Orimono Store</title>

<!-- Google Translate -->
<script>
function googleTranslateElementInit(){
  new google.translate.TranslateElement({
    pageLanguage:'en',
    includedLanguages:'en,ar,ur,hi,fr,de,es,it,tr,zh-CN,ja,ko,ru,pt,bn,id,ms'
  }, 'translate');
}
</script>
<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<!-- EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<style>
body{margin:0;font-family:Arial,sans-serif;background:#f0f4f8;color:#333;transition:0.4s;}
header{background:linear-gradient(90deg,#42aabd,#0d6e80);color:white;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;box-shadow:0 3px 6px rgba(0,0,0,0.1);}
header h1{font-size:1.5rem;font-weight:bold;display:flex;align-items:center;gap:10px;margin-bottom:0.5rem;}
header a{background:white;color:#46a5e5;padding:0.5rem 1rem;border-radius:6px;transition:0.3s;cursor:pointer;margin:2px;}
header a:hover{background:#e0f5ff;}

.container{max-width:1200px;margin:auto;padding:2rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem;animation:fadeIn 0.6s;}

.product-card{background:white;border-radius:12px;padding:1rem;box-shadow:0 4px 8px rgba(0,0,0,0.05);transition:0.3s;cursor:pointer;position:relative;overflow:hidden;opacity:0;animation:slideUp 0.6s forwards;}
.product-card:hover{box-shadow:0 6px 12px rgba(0,0,0,0.1);transform:translateY(-5px);}
.product-card img{width:100%;height:auto;max-height:200px;object-fit:cover;border-radius:8px;transition:0.3s;}
.product-card h2{margin:0.5rem 0;font-size:1rem;color:#1e293b;transition:0.3s;}
.product-card p{color:#46a5e5;font-weight:bold;font-size:1rem;}
.product-card button{margin-top:0.5rem;width:100%;padding:0.5rem;background:#0d6e80;color:white;border:none;border-radius:6px;cursor:pointer;transition:0.3s;}
.product-card button:hover{background:#3b82f6;}

#product-detail,#cart-section{display:none;animation:fadeIn 0.5s;padding:1rem;}
#product-detail img{width:100%;height:auto;max-height:300px;}
#popup,#rating-popup{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:white;padding:1.5rem;border-radius:12px;box-shadow:0 6px 12px rgba(0,0,0,0.2);z-index:999;width:90%;max-width:400px;text-align:center;}
.star{font-size:2rem;color:gray;cursor:pointer;transition:0.3s;}
.star.selected{color:#ffca28;}

.promo-video video{width:100%;height:auto;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.2);}

input, select, button{width:100%;margin:0.3rem 0;padding:0.5rem;border-radius:6px;border:1px solid #ccc;font-size:1rem;box-sizing:border-box;}
button{background:#0d6e80;color:white;border:none;cursor:pointer;transition:0.3s;}
button:hover{background:#3b82f6;}

.fly-img{position:absolute;width:50px;height:50px;border-radius:50%;z-index:999;transition:all 0.8s ease-in-out;}

@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
@keyframes slideUp{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}

@media (max-width:600px){
    header h1{font-size:1.2rem;}
    header a{padding:0.3rem 0.5rem;font-size:0.9rem;}
    .product-card h2{font-size:0.9rem;}
    .product-card p{font-size:0.9rem;}
    #checkout-form input,#checkout-form select,#checkout-form button{font-size:0.9rem;}
    .fly-img{width:40px;height:40px;}
}
</style>
</head>
<body>

<header>
<h1>
  <img src="orimono.jpeg" alt="Orimono Logo" width="50" height="50">
  Orimono Shopping Store
</h1>
<div style="display:flex;gap:10px;align-items:center;">
<div id="translate"></div>
<a onclick="showSection('home')">Home</a>
<a onclick="showSection('cart')">Cart</a>
</div>
</header>

<div class="promo-video">
<video autoplay muted loop>
<source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
Your browser does not support HTML5 video.
</video>
</div>

<div class="container" id="home"></div>

<div id="product-detail" class="detail-container">
<div class="carousel">
<img id="detail-img" src="" alt="Product Image">
<button class="prev" onclick="prevImage()">&#10094;</button>
<button class="next" onclick="nextImage()">&#10095;</button>
</div>
<h2 id="detail-name"></h2>
<p class="price" id="detail-price"></p>
<label>Quantity:<input type="number" id="detail-qty" value="1" min="1"></label>
<button class="add-cart" onclick="addToCartDetail()">Add to Cart</button>
</div>

<div id="cart-section" class="cart-container">
<h2>Your Cart</h2>
<div id="cart-items"></div>

<form id="checkout-form">
<input type="text" id="name" placeholder="Name" required>
<label>Date of Birth:</label>
<input type="date" id="dob" required>
<label>Choose Contact Method:</label>
<select id="contact-option" required onchange="toggleContactFields()">
<option value="">Select Option</option>
<option value="instagram">Instagram ID</option>
<option value="phone">Phone Number</option>
</select>
<input type="text" id="instagram" placeholder="Instagram ID" style="display:none;">
<input type="text" id="phone" placeholder="Phone Number" style="display:none;">
<input type="text" id="address" placeholder="Address" required>
<select id="payment" required>
<option value="">Select Payment Method</option>
<option value="EasyPaisa">EasyPaisa</option>
<option value="Cash on Delivery">Cash on Delivery</option>
</select>
<input type="file" id="screenshot" accept="image/*">
<p id="total-amount" style="font-weight:bold;"></p>
<button type="submit">Place Order</button>
</form>
</div>

<div id="popup">Your order is confirmed successfully! Thank you for shopping with Orimono.</div>

<div id="rating-popup">
<h3>Rate our Website</h3>
<div id="stars">
<span class="star" onclick="rate(1)">&#9733;</span>
<span class="star" onclick="rate(2)">&#9733;</span>
<span class="star" onclick="rate(3)">&#9733;</span>
<span class="star" onclick="rate(4)">&#9733;</span>
<span class="star" onclick="rate(5)">&#9733;</span>
</div>
<button onclick="submitRating()">Submit</button>
</div>

<script>
emailjs.init("NaiXSxupv3BJYt6OY");

// âœ… Products
const products=[

      { name:"Basket (large)", price:750, images:["Basket(large).jpeg","22","11"] },
      { name:"Basket (medium)", price:600, images:["basket(medium.jpeg","11","22"] },
      { name:"Box", price:650, images:["Box.jpeg","Box.jpeg","Box.jpeg"] },
      { name:"Cart", price:1650, images:["Cart.jpeg","22","11"] },
      { name:"Flamingo", price:800, images:["Flamingo.jpeg","11","22"] },
      { name:"Glassess", price:1500, images:["Glassess.jpeg","11","22"] },
      { name:"Honey Bee Tree", price:650, images:["Honey Bee Tree.jpeg","22","11"] },
      { name:"Pink Flower", price:550, images:["Pink Flower.jpeg","11","22"] },
      { name:"Rose Flower", price:600, images:["Rose Flower.jpeg","11","22"] },
      { name:"Small Swan (Simple)", price:250, images:["Small Swan(Simple).jpeg","22","11"] },
      { name:"Snake", price:1000, images:["Snake.jpeg","11","22"] },
      { name:"Swan Basket", price:400, images:["Swan Busket.jpeg","11","22"] },
      { name:"Swan Pencil Holder", price:500, images:["Swan Pencil Holder.jpeg","22","11"] },
      { name:"Swan (large)", price:1260, images:["Swan(large).jpeg","11","22"] },
      { name:"Swan (medium)", price:800, images:["Swan(medium).jpeg","11","22"] },
      { name:"Tree", price:500, images:["Tree.jpeg","11","22"] }
];

const home=document.getElementById("home");
products.forEach((p,i)=>{
    let div=document.createElement("div");
    div.className="product-card";
    div.innerHTML=`<img src="${p.images[0]}" alt="${p.name}"><h2>${p.name}</h2><p>PKR ${p.price}</p><button onclick="viewProduct(${i})">View Details</button>`;
    home.appendChild(div);
});

// Sections
let selectedProduct=null; let currentImage=0;
function showSection(section){
    document.getElementById("home").style.display=(section==='home')?'grid':'none';
    document.getElementById("product-detail").style.display=(section==='product')?'block':'none';
    document.getElementById("cart-section").style.display=(section==='cart')?'block':'none';
    updateCart();
}

function viewProduct(index){
    selectedProduct=products[index]; currentImage=0;
    document.getElementById("detail-img").src=selectedProduct.images[currentImage];
    document.getElementById("detail-name").innerText=selectedProduct.name;
    document.getElementById("detail-price").innerText="PKR "+selectedProduct.price;
    document.getElementById("detail-qty").value=1;
    showSection('product');
}

function prevImage(){currentImage=(currentImage-1+selectedProduct.images.length)%selectedProduct.images.length;document.getElementById("detail-img").src=selectedProduct.images[currentImage];}
function nextImage(){currentImage=(currentImage+1)%selectedProduct.images.length;document.getElementById("detail-img").src=selectedProduct.images[currentImage];}

// Fly to Cart Animation
function flyToCart(imgElement){
    let flyImg=document.createElement("img");
    flyImg.src=imgElement.src;
    flyImg.className="fly-img";
    document.body.appendChild(flyImg);
    let rect=imgElement.getBoundingClientRect();
    flyImg.style.left=rect.left+"px"; flyImg.style.top=rect.top+"px";
    let cartBtn=document.querySelector("header a:nth-child(2)");
    let cartRect=cartBtn.getBoundingClientRect();
    setTimeout(()=>{flyImg.style.left=cartRect.left+"px";flyImg.style.top=cartRect.top+"px";flyImg.style.width="30px";flyImg.style.height="30px";},10);
    setTimeout(()=>{flyImg.remove();},800);
}

function addToCartDetail(){
    let qty=parseInt(document.getElementById("detail-qty").value)||1;
    let cart=JSON.parse(localStorage.getItem('cart'))||[];
    cart.push({...selectedProduct, quantity:qty});
    localStorage.setItem('cart',JSON.stringify(cart));
    flyToCart(document.getElementById("detail-img"));
    updateCart();
}

function updateCart(){
    let cart=JSON.parse(localStorage.getItem('cart'))||[];
    let c=document.getElementById("cart-items"); c.innerHTML="";
    let total=0;
    cart.forEach((item,index)=>{
        total+=item.price*item.quantity;
        let div=document.createElement("div");
        div.className="cart-item";
        div.innerHTML=`<span>${item.name} x ${item.quantity}</span><span>PKR ${item.price*item.quantity}</span><button onclick="removeItem(${index})">Remove</button>`;
        c.appendChild(div);
    });
    document.getElementById("total-amount").innerText="Total Amount: PKR "+total;
}
function removeItem(i){let cart=JSON.parse(localStorage.getItem('cart'))||[];cart.splice(i,1);localStorage.setItem('cart',JSON.stringify(cart));updateCart();}

// Contact & Age Check
function calculateAge(dob){let birth=new Date(dob);let t=new Date();let age=t.getFullYear()-birth.getFullYear();let m=t.getMonth()-birth.getMonth();if(m<0||(m===0&&t.getDate()<birth.getDate()))age--;return age;}
function toggleContactFields(){let o=document.getElementById("contact-option").value;document.getElementById("instagram").style.display="none";document.getElementById("phone").style.display="none";if(o==="instagram")document.getElementById("instagram").style.display="block";if(o==="phone")document.getElementById("phone").style.display="block";}

// Checkout Form
document.getElementById("checkout-form").addEventListener("submit", function(e){
    e.preventDefault();
    let dob=document.getElementById("dob").value;
    let age=calculateAge(dob);
    let contactOption=document.getElementById("contact-option").value;

    if(age<18 && contactOption!=="instagram"){alert("If you are below 18, you must enter Instagram ID.");return;}
    if(age>=18 && contactOption!=="phone"){alert("If you are 18 or older, you must enter Phone Number.");return;}

    let name=document.getElementById("name").value;
    let contact=(contactOption==="instagram"?document.getElementById("instagram").value:document.getElementById("phone").value);
    let address=document.getElementById("address").value;
    let payment=document.getElementById("payment").value;
    let screenshot=document.getElementById("screenshot").files[0];
    let cart=JSON.parse(localStorage.getItem('cart'))||[];

    if(payment==="EasyPaisa" && !screenshot){alert("Please upload screenshot for EasyPaisa!");return;}

    let formData={name,dob,age,contact,address,payment,items:JSON.stringify(cart)};

    emailjs.send('service_x7mqjnb','template_v3rilkm',formData)
    .then(()=>{
        document.getElementById("popup").style.display="block";
        setTimeout(()=>{
            document.getElementById("popup").style.display="none";
            localStorage.removeItem("cart");
            updateCart();
            document.getElementById("checkout-form").reset();
            showSection('home');
            document.getElementById("rating-popup").style.display="block";
        },2000);
    }).catch((error)=>{alert("Oops! Something went wrong.");console.error(error);});
});

// Rating
function rate(star){for(let i=1;i<=5;i++){document.querySelector(`#stars .star:nth-child(${i})`).classList.remove("selected");}for(let i=1;i<=star;i++){document.querySelector(`#stars .star:nth-child(${i})`).classList.add("selected");}}
function submitRating(){alert("Thank you for rating us!");document.getElementById("rating-popup").style.display="none";}
</script>
</body>
</html>